<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta property="og:title" content=" Gutenberg quickstart 2: From &quot;Hello, World&quot; to macros |  CodeSections"> 
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content=" Gutenberg quickstart 2: From &quot;Hello, World&quot; to macros |  CodeSections">
    <meta name="twitter:image:src" content="https://www.codesections.com/codesections_logo.png"> 
    <meta property="og:type" content="article">
    <meta property="og:url" content="www.codesections.com">
    <meta property="og:site_name" content="CodeSections">
    <meta property="article:section" content="Article Section">
    <meta property="og:image" itemprop="image primaryImageOfPage" content="https://www.codesections.com/codesections_logo_large.png"><meta name="og:description" content="The personal website and blog of Daniel Long Sockwell, a lawyer-turned-programmer with an interest in web development, open source, and making things as simple as possible.">
    <meta name="description" content="The personal website and blog of Daniel Long Sockwell, a lawyer-turned-programmer with an interest in web development, open source, and making things as simple as possible.">
    <meta name="twitter:description" content="The personal website and blog of Daniel Long Sockwell, a lawyer-turned-programmer with an interest in web development, open source, and making things as simple as possible.">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#d9d9d9">
    <link rel="canonical" href="https://www.codesections.com/blog/gutenberg-quickstart-2">
    <title>
       Gutenberg quickstart 2: From &quot;Hello, World&quot; to macros |  CodeSections 
    </title>
    <style> 
      /*==================================*\
        ##All CSS for this page
      \*==================================*/
      
      /*  Theme colors
       *  #cde     pastel blue (note boxes)
       *  #000     true black (site header)
       *  #4F82BB; Dark Blue  (Nav bar)
       *  #223     near black (text & logo)
       *  #fff     white (menu text)
       *  #07e     sky blue (links)
       *  #dfe2e5  Light grey (tables & borders)
       */
      html {
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Oxygen-Sans,
          Ubuntu,Roboto,Cantarell,"Helvetica Neue",sans-serif;
        font-size: 17px;
        color: #223; /*near black*/
      }
      a {
        color: #0071F0; /*sky blue*/
        text-decoration: none;
      }
      .hidden {
        display: none;
      }
      
      .nav-bar {
        position: fixed;
        z-index: 1;
        left: 0;
        width: 100%;
        padding: 0;
        background-color: #4F82BB; /*Dark Blue*/
        box-shadow: 0 3px 6px rgba(0, 0, 0, .3);
        top: 0;
      }
      .nav-bar__container {
        display: flex;
        max-width: 700px; /*max comfortable line length*/
        padding-left: 8px;
        padding-right:8px;
        margin: auto;
        justify-content: space-between;
      }
      .nav-bar__btn {
        position: relative;
        cursor: pointer;
        background-color: inherit;
        height: 1.25em;
        display: inline-block;
      }
      .nav-bar__btn a {
        color: white;
      }
      .nav-bar__btn a:after {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        content: "";
        transition: all 0.4s ease;
        border-top: 3px solid #223; /*near black*/
      }
      .nav-bar__btn:not(.nav-bar__btn--icon) a:hover:after {
          width: 100%;
      }
      .svg__logo {
        height: 40px;
        width: 40px;
      }
      .svg__logo--background {
        fill: #4F82BB;
      }
      @media (max-width: 599px) { /*Phone only*/
        .nav-bar__btn {
          font-size: 1.382em;
          line-height: 1.382em;
        }
      }
      @media (min-width: 600px) {  /*Tablet-portrait & up*/
        .nav-bar__btn {
          font-size: 2em;
        }
        .svg__logo {
          height: 64px;
          width: 64px;
        }
      }
      
      /*==================================*\
        ##Main content
      \*==================================*/
      .content-main{
        min-height: calc(100vh - 100px - 3em);
        /*  This equals [fullscreen - (top margin) -
         *  (space for the 2-line footer, with margin)]*/
        max-width: 700px; /*  Match nav container width*/
        margin: 3em auto auto auto;
        padding: .1em;
        font-size: 1.15em;
        line-height: 1.6em;
        color: #444;
      }
      .content-main h1 {
        font-size: 1.7em;
        margin-top: .5em;
        margin-bottom: .5em;
        line-height: 1.1em;
      }
      .content-main h2 {
        margin-top: .25em;
      }
      .content-main blockquote {
          
          border-left: #dfe2e5 solid 7px;
          padding-left: .5em;
          padding-right: .5em;
          margin-left: 40px; /* default */
          width: calc(100% - 1em - 40px);
      }
      @media (min-width: 600px) {
        .content-main h2 {
          margin-top: 1em;
        }
      }
      .content-main p {
        margin-bottom: 1.75em;
      }
      .content-main p code,
      .content-main ul code {
        color: #c0341d;
        background-color: #fbe5e1;
        border-radius: 3px;
      }
      .content-main pre {
        overflow-x: auto;
        padding: .5em;
        line-height: 1.3em;
      }
      .content-main img {
        width: 100%;
      }
      .content-main .give-border img {
        border: #dfe2e5 solid 1px;
      }
      .page-nav__earlier {
        float: right;
      }
      .content-main aside {
        background-color: #cde; /* Pastel blue*/
        display: block;
        padding: .75em;
        margin-top: 1em;
        color: #0d1d25; /*near black*/
        border: solid 2px #0d1d25; /* Near black*/
        max-width: 90%;
        margin: auto;
      }
      .content-main aside p:first-child {
        margin-top: 0;
      }
      .content-main aside p:last-child {
        margin-bottom: 0;
      }

      .content-main .highlight {
        background-color: #EFCB68; /* Orange Yellow Crayola */
        font-size: larger;
        display: block;
        padding: .75em;
        margin-top: 1em;
        color: #0d1d25; /*near black*/
        border: solid 2px #0d1d25; /* Near black*/
        border-radius: 7px;
        max-width: 90%;
        margin: auto;
      }
      .content-main .highlight :first-child {
        margin-top: 0;
      }
      .content-main .highlight :last-child {
        margin-bottom: 0;
      }
      
      /*==================================*\
        ##Footer
      \*==================================*/
      .footer {
        margin-top: 2em;
        text-align: center;
      }
      .footer ul {
        margin: 5px;
        padding: 0;
      }
      .footer li {
        display: inline-block;
      }
  
</style>
  </head>

  <body>
    <nav class="nav-bar">
      <ul class="nav-bar__container">
        <li class="nav-bar__btn"><a href="/">Home</a></li>
        <li class="nav-bar__btn"><a href="/contact">Contact</a></li>
        <li class="nav-bar__btn nav-bar__btn--icon">
            <!-- site logo, as an inline SVG because that loads faster-->
            <a href="/"><span class="hidden">Home</span>
            <svg class="svg__logo" viewBox="0 0 100 120" stroke-width="1px"
              stroke="#000" height="100" width="100">
              <title>Logo image/link to homepage</title>
              <circle class="svg__logo--background" fill="#fff"
              stroke="none" cx="50" cy="35" r="69"/>
              <path d="M -9,50 25,10 V 25 L 4,50 25,75 v 15 z"/>
              <path d="m 49,92 c 12,0 20,-8 20,-17 0,-7 -3,-11 -7,-13 5,-3 7,-7
              7,-12 0,-18 -30,-12 -30,-25 3,-11 17,-7 26,-3 l 2,-7 c -13,-7
              -35,-4 -35,11 0,6 3,11 9,14 -5,2 -9,7 -9,13 0,16 29,11 29,24 0,5
              -6,8 -13,8 -6,0 -11,-4 -15,-6 l -2,7 c 5,3 11,6 18,6 z"/>
              <path d="M 110,50 75,90 V 75 L 98,50 75,25 V 10 Z"/>
              <ellipse class="svg__logo--background" ry="8.5" rx="11.5"
              cy="51" cx="50" fill="#fff"/>
            </svg>
            </a>
        </li>
        <li class="nav-bar__btn"><a href="/blog">Blog</a></li>
        <li class="nav-bar__btn"><a href="/projects">Projects</a></li>
      </ul>
    </nav>
    <section class="content-main">
  
    
  <h1>Gutenberg quickstart 2: From &quot;Hello, World&quot; to macros</h1>
  <p>When we left of, we'd just created a &quot;Hello, World&quot; websiteâ€”nothing that fancy,
but enough to get a feel for the basic structure of Gutenberg's templating
system.</p>
<p><span class="give-border">
<a href="https://v05--gutenberg-simple-demo.netlify.com/"><img src="/blog/gutenberg-quickstart-1/v5.png" alt="v5 screenshot" /></a>
</span></p>
<p>(<a href="https://github.com/codesections/gutenberg-simple-demo/tree/v05">source code</a>, as always, in the GitHub repo.)</p>
<p>Today, we're going to dive in a bit deeper and take a look how we can use
Gutenberg's templates to support a multi-page site.</p>
<h2 id="an-about-page">An About page</h2>
<p>First, let's create an About page for our demo site.  Before we do, though,
lets add a link to our new page from our homepage.  Add the following HTML to
your <code>index.html</code> file just after the body begins:</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">    </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">nav</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">      </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">a </span><span style="color:#b58900;">href</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">/</span><span style="color:#839496;">&quot;</span><span style="color:#586e75;">&gt;</span><span style="color:#839496;">Home</span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">a</span><span style="color:#586e75;">&gt;</span><span style="color:#839496;"> | </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">a </span><span style="color:#b58900;">href</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">/about</span><span style="color:#839496;">&quot;</span><span style="color:#586e75;">&gt;</span><span style="color:#839496;">About</span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">a</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">    </span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">nav</span><span style="color:#586e75;">&gt;
</span></pre>
<p>Now that we have a link, lets make the page.  To do that, we'll need a
template that applies to pagesâ€”right now, we only have the <code>index.html</code> template
but, as we talked about last time, that template <em>only</em> applies to the home page.</p>
<p>By default, all other pages are governed by the <code>page.html</code> template.  (Note
that I said <em>pages</em>, which are distinct from <em>sections</em>.  We'll get to sections
next time.)  So, if we're going to have an About page, we're going to need a
<code>pages.html</code> template.</p>
<p><a name="continue-reading"></a></p>
<p>Next, we'll need some content.  To create that content, navigate to your
<code>content</code> directory and create a new <code>about</code> folder.  Inside this folder, create
a file called <code>index.md</code> and give it this content (or something similar if you
want to experiment):</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">+++
</span><span style="color:#839496;">title = &quot;About&quot;
</span><span style="color:#839496;">+++
</span><span style="color:#839496;">
</span><span style="color:#839496;">Some details about this site.
</span></pre><aside>
  You could skip creating the `about` folder and just create the file as
  `about.md` in your `content` directory.  Either way would create a page on 
  your site that lives at `[BASE_URL]/about`.  The advantage of creating the
  `about` folder is that you can put images or other related files in that 
  folder and then easily link to them, which will be helpful as your site grows.
</aside>
<p>And that's all it takes to have a second page up and running.  Fire up your
local server with <code>gutenberg serve</code> and you should get something like this,
with working links:</p>
<p><span class="give-border">
<a href="https://v06--gutenberg-simple-demo.netlify.com/"><img src="https://www.codesections.com/blog/gutenberg-quickstart-2/v06.png" alt="v06 screenshot" /></a>
</span></p>
<p>(<a href="https://github.com/codesections/gutenberg-simple-demo/tree/v06">Source code</a>)</p>
<h2 id="first-refactor">First refactor</h2>
<p>While that definitely <em>worked</em>, there's a lot about it that should have just
about any experienced web developer cringing.  Most notably, we have two
separate templates that are literally copies of one another with only a single
<em>word</em> changed between them.  This is about as blatant a violation of <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">don't
repeat yourself</a> as
you could ever hope to find.</p>
<p>So, let's fix that.  And, in the process, we'll get to know another set of
Gutenberg's key features: base templates, extends, and blocks.</p>
<p>To implement this, create another copy of <code>index.html</code>.  (Yes, I know we're
trying to <em>reduce</em> the amount of copying, but just bear with me.)  You can
name this one whatever you like, so long as it has an <code>.html</code> extension.  I'll
go with <code>base.html</code>.  Then, replace everything inside the body tag with</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">{% </span><span style="color:#859900;">block </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">endblock </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span></pre>
<p>What does that do?  It creates a <code>block</code> that has the name &quot;content&quot;.  What
this means is that any other file can extend <code>base.html</code> and substitute in
content inside that block.</p>
<p>Let's set that up now.  Delete all the text in <code>index.html</code> and replace it
with the following:</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">{% </span><span style="color:#859900;">extends </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">base.html</span><span style="color:#839496;">&quot; %}
</span><span style="color:#839496;">
</span><span style="color:#839496;">{% </span><span style="color:#859900;">block </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span><span style="color:#839496;">  </span><span style="color:#839496;">{{ </span><span style="color:#268bd2;">section</span><span style="color:#839496;">.</span><span style="color:#268bd2;">content </span><span style="color:#839496;">| </span><span style="color:#268bd2;">safe </span><span style="color:#839496;">}}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">endblock </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span></pre>
<p>You may be able to guess what this does: it tells Gutenberg that you want to
extend the <code>base.html</code> template, and that it should substitute in the stuff
inside the &quot;content&quot; block for the &quot;content&quot; block in <code>base.html</code>.</p>
<p>A few points are worth noting here:</p>
<ul>
<li>the <code>extends</code> line must be the first line in the template.  As a direct
consequence, a template may only extend one parent template.</li>
<li>However, you can chain extensionsâ€”that is, another template could extend
<code>index.html</code> even though <code>index.html</code> is extending <code>base.html</code>.</li>
<li>Templates can have more than one <code>block</code>.  For example, I will frequently
have at least three blocks in my <code>base.html</code>: <code>page_speciffic_css</code>,
<code>content</code>, and <code>page_specific_js</code>.  That lets me easily add in any of
those elements if necessary in a child template.</li>
<li>Blocks can have default values in the parent template.  For instance,
if you had put &quot;Hello, World!&quot; inside the &quot;content&quot; template in
<code>base.html</code>, then that text would be displayed whenever you extended
<code>base.html</code> but <em>did not</em> provide replacement text for the &quot;content&quot;
block.</li>
</ul>
<p>Let's make the same changes in <code>page.html</code>.  Just like with <code>index.html</code>, we
can delete the entirety of our current text and replace it with</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">{% </span><span style="color:#859900;">extends </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">base.html</span><span style="color:#839496;">&quot; %}
</span><span style="color:#839496;">
</span><span style="color:#839496;">{% </span><span style="color:#859900;">block </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span><span style="color:#839496;">  </span><span style="color:#839496;">{{ </span><span style="color:#268bd2;">page</span><span style="color:#839496;">.</span><span style="color:#268bd2;">content </span><span style="color:#839496;">| </span><span style="color:#268bd2;">safe </span><span style="color:#839496;">}}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">endblock </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span></pre>
<p>We haven't changed our rendered HTML at allâ€”as you can confirm with
<code>gutenberg serve</code>, but we've moved our source HTML into a single file, which
will make it much easier to maintain.</p>
<h2 id="dealing-with-the-css">Dealing with the CSS</h2>
<p>While we're refactoring, let's deal with the CSS.  This tutorial isn't about
coding CSS, so we won't refactor the actual code.  But let's at least get it
out of a <code>&lt;style&gt;</code> tag mixed in with our HTML.</p>
<p>Now, at this point there are two directions you could go.  The more standard
way to go would be to replace your inline CSS with a <code>&lt;link rel=&quot;stylesheet&quot;&gt;</code>
tag and put our CSS in an external file.  Gutenberg supports going this route,
and even comes with built-in support for compiling your CSS from Sass files.<br />
If you want to do this, just create <code>.sass</code> or <code>.scss</code> files in your <code>sass</code>
directory.  Then, during site build, those files will be automatically compiled
to your static directory and can be linked from your HTML files.  If you want
more information on going that route, the
<a href="https://www.getgutenberg.io/documentation/content/sass/">docs</a> are
helpful as always.</p>
<p>However, in this guide I'm going to demonstrate going another way.  We're going
to include CSS inline in our built file, but break it out into a separate file
in our source.  This gives us most of the advantages of splitting our CSS out
into a separate fileâ€”we separate our concerns, and we can link the same CSS
file from multiple HTML pagesâ€”without paying the cost of additional HTTP
requests that can unnecessarily slow down sites load their CSS with external
requests.  The only disadvantage to this approach is that CSS isn't cached,
which matters for sites loading large quantities of CSS (e.g.,
<a href="https://getbootstrap.com/">bootstrap</a>) but doesn't matter at all when we're
loading only a KB or so.</p>
<p>Now that we've picked our approach, how do we do it?  Simple.  We move our
CSS into a separate template file, which I'll call <code>css.html</code>.  So that file
should look like this:</p>
<pre style="background-color:#002b36;">
<span style="color:#b58900;">body </span><span style="color:#839496;">{
</span><span style="color:#839496;">  </span><span style="color:#859900;">margin</span><span style="color:#839496;">: </span><span style="color:#6c71c4;">40</span><span style="color:#859900;">px </span><span style="color:#839496;">auto;
</span><span style="color:#839496;">  </span><span style="color:#859900;">max-width</span><span style="color:#839496;">: </span><span style="color:#6c71c4;">650</span><span style="color:#859900;">px</span><span style="color:#839496;">;
</span><span style="color:#839496;">  </span><span style="color:#859900;">line-height</span><span style="color:#839496;">: </span><span style="color:#6c71c4;">1.6</span><span style="color:#839496;">;
</span><span style="color:#839496;">  </span><span style="color:#859900;">font-size</span><span style="color:#839496;">: </span><span style="color:#6c71c4;">18</span><span style="color:#859900;">px</span><span style="color:#839496;">;
</span><span style="color:#839496;">  </span><span style="color:#859900;">color</span><span style="color:#839496;">: </span><span style="color:#cb4b16;">#444</span><span style="color:#839496;">;
</span><span style="color:#839496;">  </span><span style="color:#859900;">padding</span><span style="color:#839496;">: </span><span style="color:#6c71c4;">0 10</span><span style="color:#859900;">px
</span><span style="color:#839496;">}
</span><span style="color:#b58900;">h1</span><span style="color:#657b83;">,</span><span style="color:#b58900;">h2</span><span style="color:#657b83;">,</span><span style="color:#b58900;">h3 </span><span style="color:#839496;">{
</span><span style="color:#839496;">  </span><span style="color:#859900;">line-height</span><span style="color:#839496;">: </span><span style="color:#6c71c4;">1.2</span><span style="color:#839496;">;
</span><span style="color:#839496;">}
</span></pre>
<p>(Depending on your text editor, you may need to tell it to apply CSS syntax
highlighting to this file.)</p>
<p>Then, replace the CSS that was in your <code>base.html</code> with the single line
<code>{% include &quot;css.html&quot; %}</code>.  Including files really is that easy.</p>
<p>If you'd like to see the source code for where we are now, it's in the
<a href="https://github.com/codesections/gutenberg-simple-demo/tree/v07">GitHub repo</a>.
You can also check out the <a href="https://v07--gutenberg-simple-demo.netlify.com/">live site</a>, though note that it won't have changed at all.</p>
<h2 id="even-better-system-for-css">Even better system for CSS</h2>
<p>I wanted to show you how to <code>include</code> files because it's simple, useful, and
good enough for many use cases.  But I also want to take a moment to explore
<code>macros</code>, which are far more powerful and are one of Gutenberg's killer
features.  In fact, I recommend using macros to handle your CSS.</p>
<p>But first, let's make our CSS just a <em>little</em> more advanced so that we can
see the power of macros when dealing with our CSS.  Lets add a bit of CSS
that applies only to our homepage, not to our About page.</p>
<p>Imagine you want the following CSS to apply to the homepage:</p>
<pre style="background-color:#002b36;">
<span style="color:#b58900;">h1 </span><span style="color:#839496;">{
</span><span style="color:#839496;">  </span><span style="color:#859900;">text-align</span><span style="color:#839496;">: center;
</span><span style="color:#839496;">  </span><span style="color:#859900;">color</span><span style="color:#839496;">: </span><span style="color:#cb4b16;">#85144b </span><span style="color:#586e75;">/* maroon */
</span><span style="color:#839496;">}
</span></pre>
<p>Now, we <em>could</em> do this with includesâ€”we could put this in a separate file,
and then <code>include</code> it in our <code>index.html</code> file, but not in our <code>base.html</code>
file or our <code>page.html</code> file.  But, though this would work, it could get a
bit messyâ€”we'd need to artificially split our CSS into separate files even
when, as in this case, the size/complexity doesn't justify it.</p>
<p>Luckily, macros give us a better option.  Here's what you do: rename <code>css.html</code>
to <code>css_macros.html</code> (optional, but recommended).  Then, update it to have
the following content:</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">{% </span><span style="color:#859900;">macro </span><span style="color:#268bd2;">global_styles</span><span style="color:#839496;">() %}
</span><span style="color:#839496;">  </span><span style="color:#839496;">body {
</span><span style="color:#839496;">      </span><span style="color:#839496;">margin: 40px auto;
</span><span style="color:#839496;">      </span><span style="color:#839496;">max-width: 650px;
</span><span style="color:#839496;">      </span><span style="color:#839496;">line-height: 1.6;
</span><span style="color:#839496;">      </span><span style="color:#839496;">font-size: 18px;
</span><span style="color:#839496;">      </span><span style="color:#839496;">color: #444;
</span><span style="color:#839496;">      </span><span style="color:#839496;">padding: 0 10px
</span><span style="color:#839496;">                </span><span style="color:#839496;">
</span><span style="color:#839496;">  </span><span style="color:#839496;">}
</span><span style="color:#839496;">  </span><span style="color:#839496;">h1,h2,h3 {
</span><span style="color:#839496;">    </span><span style="color:#839496;">line-height: 1.2;
</span><span style="color:#839496;">  </span><span style="color:#839496;">}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">endmacro </span><span style="color:#268bd2;">global_styles </span><span style="color:#839496;">%}
</span><span style="color:#839496;">
</span><span style="color:#839496;">
</span><span style="color:#839496;">{% </span><span style="color:#859900;">macro </span><span style="color:#268bd2;">homepage</span><span style="color:#839496;">() %}
</span><span style="color:#839496;">  </span><span style="color:#839496;">h1 {
</span><span style="color:#839496;">    </span><span style="color:#839496;">text-align: center;
</span><span style="color:#839496;">    </span><span style="color:#839496;">color: #85144b /* maroon */
</span><span style="color:#839496;">  </span><span style="color:#839496;">}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">endmacro </span><span style="color:#268bd2;">homepage </span><span style="color:#839496;">%}
</span></pre>
<p>Then revise your <code>base.html</code> file to look like the following:</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">{% </span><span style="color:#859900;">import </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">css_macros.html</span><span style="color:#839496;">&quot; </span><span style="color:#268bd2;">as css </span><span style="color:#839496;">%}
</span><span style="color:#839496;">
</span><span style="color:#586e75;">&lt;!</span><span style="color:#268bd2;">DOCTYPE</span><span style="color:#839496;"> html</span><span style="color:#586e75;">&gt;
</span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">html </span><span style="color:#839496;">lang</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">en</span><span style="color:#839496;">&quot;</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">  </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">head</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">    </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">title</span><span style="color:#586e75;">&gt;</span><span style="color:#839496;">Gutenberg Demo</span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">title</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">    </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">meta </span><span style="color:#839496;">charset</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">UTF-8</span><span style="color:#839496;">&quot;</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">    </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">style</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">      </span><span style="color:#839496;">{{ css::global_styles() }}
</span><span style="color:#839496;">      </span><span style="color:#839496;">{% block page_specific_styles %}
</span><span style="color:#839496;">      </span><span style="color:#839496;">{% endblock page_specific_styles %}
</span><span style="color:#839496;">    </span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">style</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">  </span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">head</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">  </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">nav</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">    </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">a </span><span style="color:#839496;">href</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">/</span><span style="color:#839496;">&quot;</span><span style="color:#586e75;">&gt;</span><span style="color:#839496;">Home</span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">a</span><span style="color:#586e75;">&gt;</span><span style="color:#839496;"> | </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">a </span><span style="color:#839496;">href</span><span style="color:#657b83;">=</span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">/about</span><span style="color:#839496;">&quot;</span><span style="color:#586e75;">&gt;</span><span style="color:#839496;">About</span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">a</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">  </span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">nav</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">
</span><span style="color:#839496;">  </span><span style="color:#586e75;">&lt;</span><span style="color:#268bd2;">body</span><span style="color:#586e75;">&gt;
</span><span style="color:#839496;">    </span><span style="color:#839496;">{% </span><span style="color:#859900;">block </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span><span style="color:#839496;">    </span><span style="color:#839496;">{% </span><span style="color:#859900;">endblock </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span><span style="color:#839496;">  </span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">body</span><span style="color:#586e75;">&gt;
</span><span style="color:#586e75;">&lt;/</span><span style="color:#268bd2;">html</span><span style="color:#586e75;">&gt;
</span></pre>
<p>As you can see, it now starts with an <code>import</code> line, which imports the macro
and then calls the macro inside the <code>&lt;style&gt;</code> tag.  It also now has a second
block, a possibility we mentioned above.</p>
<p>Finally, update your <code>index.html</code> file to the following:</p>
<pre style="background-color:#002b36;">
<span style="color:#839496;">{% </span><span style="color:#859900;">extends </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">base.html</span><span style="color:#839496;">&quot; %}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">import </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">css_macros.html</span><span style="color:#839496;">&quot; </span><span style="color:#268bd2;">as css </span><span style="color:#839496;">%}
</span><span style="color:#839496;">
</span><span style="color:#839496;">{% </span><span style="color:#859900;">block </span><span style="color:#268bd2;">page_specific_styles </span><span style="color:#839496;">%}
</span><span style="color:#839496;">  </span><span style="color:#839496;">{{ </span><span style="color:#268bd2;">css</span><span style="color:#839496;">::</span><span style="color:#268bd2;">homepage</span><span style="color:#839496;">() }}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">endblock </span><span style="color:#268bd2;">page_specific_styles </span><span style="color:#839496;">%}
</span><span style="color:#839496;">
</span><span style="color:#839496;">{% </span><span style="color:#859900;">block </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span><span style="color:#839496;">  </span><span style="color:#839496;">{{ </span><span style="color:#268bd2;">section</span><span style="color:#839496;">.</span><span style="color:#268bd2;">content </span><span style="color:#839496;">| </span><span style="color:#268bd2;">safe </span><span style="color:#839496;">}}
</span><span style="color:#839496;">{% </span><span style="color:#859900;">endblock </span><span style="color:#268bd2;">content </span><span style="color:#839496;">%}
</span></pre>
<p>And now, launch the live site.  If all goes well, you'll have a site that's
only slightly changed from when you were using includes, but that is now
powered by the full strength of macros.</p>
<p><span class="give-border">
<a href="https://v08--gutenberg-simple-demo.netlify.com/"><img src="https://www.codesections.com/blog/gutenberg-quickstart-2/v08.png" alt="v08 screenshot" /></a>
</span></p>
<aside>
  <p>Why are macros better than includes here?  A few reasons:</p>
<ul>
<li><strong>Explicit dependencies</strong>: using macros puts all your <code>import</code> statements in a single location at the top of your code.  Conversely, <code>include</code> statements are scattered throughout your file, which can make it harder
to see what's there.</li>
<li><strong>Namespacing</strong>: Notice how we called both of our CSS macros using the prefix <code>css::</code>?  Macros give you a built-in way to namespace your functionality without needing to rename files or created a more complicated directory structure.</li>
<li><strong>File organization</strong>: As mentioned, macros give us the freedom to organize our files however makes sense for the scope of our project.</li>
<li><strong>Power</strong>: We're not using the full power of macros hereâ€”they can become much more powerful and flexible when you start passing in arguments.  Getting used to macros in this simple case will help when you need their more powerful features.</li>
</ul>
</aside>
<h2 id="conclusion">Conclusion</h2>
<p>Ok, that's it for now.  We've gone from a single-page, single template site
to a multi-page site making full use of multiple templates, separate CSS files,
and the power of macros.  Next time, we'll dive into sections and look at
iterating through Gutenberg pagesâ€”we'll add a blog to our example site.</p>


  <div>
    
    
  </div>

  
</section>
    
  <footer class="footer">
    <ul>
      <li>Â© 2020 |</li>
      <li><a href="/contact">Contact</a> |</li>
      <li><a href="/license/">Few Rights Reserved</a> |</li>
      <li><a href="/rss.xml" type="application/rss+xml"> RSS</a></li>
    </ul>
    <ul>
      <li><a href="/privacy">Privacy Guarantees</a> |</li>
      <li><a href="https://github.com/codesections-personal/codesections">
        Source Code for codesections.com</a>
      </li>
    </ul>
  </footer>

  
</body>
</html>
