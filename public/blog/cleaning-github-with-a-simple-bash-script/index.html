<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta property="og:title" content=" Cleaning your GitHub profile with a simple Bash script |  CodeSections"> 
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content=" Cleaning your GitHub profile with a simple Bash script |  CodeSections">
    <meta name="twitter:image:src" content="https://www.codesections.com/codesections_logo.png"> 
    <meta property="og:type" content="article">
    <meta property="og:url" content="www.codesections.com">
    <meta property="og:site_name" content="CodeSections">
    <meta property="article:section" content="Article Section">
    <meta property="og:image" itemprop="image primaryImageOfPage" content="https://www.codesections.com/codesections_logo_large.png"><meta name="og:description" content="The personal website and blog of Daniel Long Sockwell, a lawyer-turned-programmer with an interest in web development, open source, and making things as simple as possible.">
    <meta name="description" content="The personal website and blog of Daniel Long Sockwell, a lawyer-turned-programmer with an interest in web development, open source, and making things as simple as possible.">
    <meta name="twitter:description" content="The personal website and blog of Daniel Long Sockwell, a lawyer-turned-programmer with an interest in web development, open source, and making things as simple as possible.">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#d9d9d9">
    <link rel="canonical" href="https://www.codesections.com/blog/cleaning-github-with-a-simple-bash-script">
    <title>
       Cleaning your GitHub profile with a simple Bash script |  CodeSections 
    </title>
    <style> 
      /*==================================*\
        ##All CSS for this page
      \*==================================*/
      
      /*  Theme colors
       *  #cde     pastel blue (note boxes)
       *  #000     true black (site header)
       *  #4F82BB; Dark Blue  (Nav bar)
       *  #223     near black (text & logo)
       *  #fff     white (menu text)
       *  #07e     sky blue (links)
       *  #dfe2e5  Light grey (tables & borders)
       */
      html {
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Oxygen-Sans,
          Ubuntu,Roboto,Cantarell,"Helvetica Neue",sans-serif;
        font-size: 17px;
        color: #223; /*near black*/
      }
      a {
        color: #0071F0; /*sky blue*/
        text-decoration: none;
      }
      .hidden {
        display: none;
      }
      
      .nav-bar {
        position: fixed;
        z-index: 1;
        left: 0;
        width: 100%;
        padding: 0;
        background-color: #4F82BB; /*Dark Blue*/
        box-shadow: 0 3px 6px rgba(0, 0, 0, .3);
        top: 0;
      }
      .nav-bar__container {
        display: flex;
        max-width: 700px; /*max comfortable line length*/
        padding-left: 8px;
        padding-right:8px;
        margin: auto;
        justify-content: space-between;
      }
      .nav-bar__btn {
        position: relative;
        cursor: pointer;
        background-color: inherit;
        height: 1.25em;
        display: inline-block;
      }
      .nav-bar__btn a {
        color: white;
      }
      .nav-bar__btn a:after {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        content: "";
        transition: all 0.4s ease;
        border-top: 3px solid #223; /*near black*/
      }
      .nav-bar__btn:not(.nav-bar__btn--icon) a:hover:after {
          width: 100%;
      }
      .svg__logo {
        height: 40px;
        width: 40px;
      }
      .svg__logo--background {
        fill: #4F82BB;
      }
      @media (max-width: 599px) { /*Phone only*/
        .nav-bar__btn {
          font-size: 1.382em;
          line-height: 1.382em;
        }
      }
      @media (min-width: 600px) {  /*Tablet-portrait & up*/
        .nav-bar__btn {
          font-size: 2em;
        }
        .svg__logo {
          height: 64px;
          width: 64px;
        }
      }
      
      /*==================================*\
        ##Main content
      \*==================================*/
      .content-main{
        min-height: calc(100vh - 100px - 3em);
        /*  This equals [fullscreen - (top margin) -
         *  (space for the 2-line footer, with margin)]*/
        max-width: 700px; /*  Match nav container width*/
        margin: 3em auto auto auto;
        padding: .1em;
        font-size: 1.15em;
        line-height: 1.6em;
        color: #444;
      }
      .content-main h1 {
        font-size: 1.7em;
        margin-top: .5em;
        margin-bottom: .5em;
        line-height: 1.1em;
      }
      .content-main h2 {
        margin-top: .25em;
      }
      .content-main blockquote {
          
          border-left: #dfe2e5 solid 7px;
          padding-left: .5em;
          padding-right: .5em;
          margin-left: 40px; /* default */
          width: calc(100% - 1em - 40px);
      }
      @media (min-width: 600px) {
        .content-main h2 {
          margin-top: 1em;
        }
      }
      .content-main p {
        margin-bottom: 1.75em;
      }
      .content-main p code,
      .content-main ul code {
        color: #c0341d;
        background-color: #fbe5e1;
        border-radius: 3px;
      }
      .content-main pre {
        overflow-x: auto;
        padding: .5em;
        line-height: 1.3em;
      }
      .content-main img {
        width: 100%;
      }
      .content-main .give-border img {
        border: #dfe2e5 solid 1px;
      }
      .page-nav__earlier {
        float: right;
      }
      
      /*==================================*\
        ##Footer
      \*==================================*/
      .footer {
        margin-top: 2em;
        text-align: center;
      }
      .footer ul {
        margin: 5px;
        padding: 0;
      }
      .footer li {
        display: inline-block;
      }
  
</style>
  </head>

  <body>
    <nav class="nav-bar">
      <ul class="nav-bar__container">
        <li class="nav-bar__btn"><a href="/">Home</a></li>
        <li class="nav-bar__btn"><a href="/contact">Contact</a></li>
        <li class="nav-bar__btn nav-bar__btn--icon">
            <!-- site logo, as an inline SVG because that loads faster-->
            <a href="/"><span class="hidden">Home</span>
            <svg class="svg__logo" viewBox="0 0 100 120" stroke-width="1px"
              stroke="#000" height="100" width="100">
              <title>Logo image/link to homepage</title>
              <circle class="svg__logo--background" fill="#fff"
              stroke="none" cx="50" cy="35" r="69"/>
              <path d="M -9,50 25,10 V 25 L 4,50 25,75 v 15 z"/>
              <path d="m 49,92 c 12,0 20,-8 20,-17 0,-7 -3,-11 -7,-13 5,-3 7,-7
              7,-12 0,-18 -30,-12 -30,-25 3,-11 17,-7 26,-3 l 2,-7 c -13,-7
              -35,-4 -35,11 0,6 3,11 9,14 -5,2 -9,7 -9,13 0,16 29,11 29,24 0,5
              -6,8 -13,8 -6,0 -11,-4 -15,-6 l -2,7 c 5,3 11,6 18,6 z"/>
              <path d="M 110,50 75,90 V 75 L 98,50 75,25 V 10 Z"/>
              <ellipse class="svg__logo--background" ry="8.5" rx="11.5"
              cy="51" cx="50" fill="#fff"/>
            </svg>
            </a>
        </li>
        <li class="nav-bar__btn"><a href="/blog">Blog</a></li>
        <li class="nav-bar__btn"><a href="/projects">Projects</a></li>
      </ul>
    </nav>
    <section class="content-main">
  
    
  <h1>Cleaning your GitHub profile with a simple Bash script</h1>
  <p>I recently read Andrei Cioara's take on <a href="https://andreicioara.com/how-i-organize-my-github-repositories-ce877db2e8b6">the best way to organize GitHub repos</a>.  The short version is that GitHub's flat name-spacing leaves all your repos in a single, jumbled list—which is both annoying for you to deal with and makes it harder for anyone else to find your most useful projects.</p>
<p>In particular, if you're an active participant in the open-source world, you could easily have dozens of forks cluttering up your repo list, not to mention any old, half-finished projects you might have floating around.</p>
<p>Andrei suggests a clever solution: Create single-user organizations and move certain repositories over to those organizations. For example, I've created a <code>codesections-forks</code> organization to hold all the projects I've forked to make pull requests and a <code>codesections-playground</code> repo to hold my one-off experiments.  As a result, my main <a href="https://github.com/codesections?tab=repositories">repository page</a> is now much cleaner—down to just 13 public repos, all of which I actively maintain.</p>
<p>But what Andrei <strong>doesn't</strong> explain is how to move all your repos.  If you do it through GitHub's UI, it's pretty painful—you have to click through several different pages and manually type in <em>both</em> the name of the repo you want to move <em>and</em> the target org.  And—since the only reason this is worth doing is if you have a bunch of repos you'd like to move—this ends up being a lengthy process.</p>
<p>Fortunately, there is a better way.</p>
<p><a name="continue-reading"></a></p>
<p>Instead of manually clicking and waiting and typing and waiting, we're going to move our repos using GitHub's famously flexible and powerful API.  Fortunately, their API has an endpoint specifically <a href="https://developer.github.com/v3/repos/#transfer-a-repository">designed for transferring repos</a>; unfortunately, it's still experimental.  But all that means is that we'll need to add in an extra header to our request.</p>
<p>So, what exactly do you do?  Well, first, grab an OAuth Personal Access Token if you don't already have one (you can generate a new one at <a href="https://github.com/settings/tokens">github.com/settings/tokens</a>.  Then, create whatever new organization or organizations you want to move some repos to—I went with just two, but Andrei suggests four; use your own judgment. Finally, use the following CURL command to move a target repo from your personal account to the newly created org:</p>
<pre style="background-color:#002b36;">
<span style="color:#268bd2;">curl -H </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Authorization: token &lt;OAUTH_PERSONAL_ACCESS_TOKEN&gt;</span><span style="color:#839496;">&quot; </span><span style="color:#dc322f;">\
</span><span style="color:#268bd2;">-H </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Accept: application/vnd.github.nightshade-preview+json</span><span style="color:#839496;">&quot; </span><span style="color:#dc322f;">\
</span><span style="color:#268bd2;">-H </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Content-Type: application/json</span><span style="color:#839496;">&quot; </span><span style="color:#dc322f;">\
</span><span style="color:#268bd2;">-X</span><span style="color:#839496;"> POST https://api.github.com/repos/</span><span style="color:#657b83;">&lt;</span><span style="color:#839496;">USERNAME</span><span style="color:#657b83;">&gt;</span><span style="color:#839496;">/</span><span style="color:#657b83;">&lt;</span><span style="color:#839496;">REPO</span><span style="color:#657b83;">&gt;</span><span style="color:#839496;">/transfer </span><span style="color:#dc322f;">\
</span><span style="color:#268bd2;">-d </span><span style="color:#839496;">&#39;</span><span style="color:#2aa198;">{&quot;new_owner&quot;: &quot;&lt;NEW_ORG&gt;&quot;}</span><span style="color:#839496;">&#39;
</span></pre>
<p>(Be sure to fill in your own values for <code>&lt;OAUTH_PERSONAL_ACCESS_TOKEN&gt;</code>, <code>&lt;USERNAME&gt;</code>, <code>&lt;REPO&gt;</code>, and <code>&lt;NEW_ORG&gt;</code>.)</p>
<p>With that single command, you've fully transferred the repo, no confirmation or page reloads required.  And with just a few lines of Bash—something so trivial it's a bit of an overstatement to even call it a script.  And, to repeat for the next repo, just change the <code>&lt;REPO&gt;</code> name; everything else stays the same.</p>
<p>Of course, there's still plenty more we could do to automate this further.  In particular, it would be pretty trivial to query GitHub's API for all of our forks and then loop over them in a single pass.  I didn't do that, personally—I wanted to be able to see each repo I was operating on, and didn't have enough forks to really make that worthwhile.  (Well, especially considering that I used vim's keyboard macros to quickly paste in each repo name and copy the resulting CURL command).  But, if you have more forks, that would be the next obvious step.</p>
<p>At the end of the day, am I happy with the result?  Well, mostly.  I still wish GitHub would let us manually order the repos—in particular, I wish that I had <a href="https://github.com/codesections/mnemonic">mnemonic</a> above the fold, since it's my most active project right now.  But <a href="https://github.com/codesections?tab=repositories">my repo list</a> is definitely a lot cleaner, and using CURL was able to save me a lot of time.</p>
<p>... of course, I then went and spent at least as much time as I saved telling all y'all about it.  But, hey, maybe we can all save a bit of time together.</p>


  <div>
    
    
  </div>

  
</section>
    
  <footer class="footer">
    <ul>
      <li>© 2020 |</li>
      <li><a href="/contact">Contact</a> |</li>
      <li><a href="/license/">Few Rights Reserved</a> |</li>
      <li><a href="/rss.xml" type="application/rss+xml"> RSS</a></li>
    </ul>
    <ul>
      <li><a href="/privacy">Privacy Guarantees</a> |</li>
      <li><a href="https://github.com/codesections-personal/codesections">
        Source Code for codesections.com</a>
      </li>
    </ul>
  </footer>

  
</body>
</html>
